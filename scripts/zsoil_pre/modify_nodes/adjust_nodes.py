# @description Adjusts y-coordinates to new levels
# @input txt-file with nodes exported from zsoil
# @output txt-file that can be re-imported into zsoil
# @mandat M883 Zug
# @author Matthias Preisig


y0list = [420.0, 419.5, 419.0, 418.33333333, 417.66666667, 417.0,  416.5, 416.11428571, 415.72857143, 415.34285714, 414.95714286, 414.57142857, 414.18571429, 413.8,  413.25, 412.7,  412.15, 411.6, 411.05, 410.5, 409.95, 409.45, 409.075, 408.7,  408.25, 407.75, 407.45, 406.75, 406.0, 405.25, 404.5, 403.75, 403.0, 402.25, 401.5, 400.75, 400.0, 399.25, 398.5, 397.75, 397.0, 396.25, 395.5, 394.75, 394.0, 393.25, 392.5, 391.375, 389.6875, 387.15625, 383.359375, 377.6640625]
y1list = [420.0, 419.5, 419.0, 418.5, 418.0, 417.4,        416.95, 416.5, 416.05,       415.6,        415.15,       414.77,       414.32,       413.87,       413.33, 412.8,  412.25, 411.7,  411.2, 410.65, 410.1,         409.59, 409.19,  408.79, 408.39, 407.89, 407.45, 406.75, 406.0, 405.25, 404.5, 403.75, 403.0, 402.25, 401.5, 400.75, 400.0, 399.25, 398.5, 397.75, 397.0, 396.25, 395.5, 394.75, 394.0, 393.25, 392.5, 391.375, 389.6875, 387.15625, 383.359375, 377.6640625]

f = open('nodes0.txt')
of = open('nodes1.txt','w')

for line in f:
    v = line.split()
    n = int(v[0])
    x = float(v[1])
    y = float(v[2])
    z = float(v[3])
    for ky,yy in enumerate(y0list):
        if abs(y-yy)<1e-6:
            y1 = y1list[ky]
            break
    of.write('%i %s %1.8f %s\n'%(n,v[1],y1,v[3]))
    

of.close()
f.close()
